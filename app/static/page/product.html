<div class="content page2">
    <div class="projectManager table-responsive">
        <table class="table table-bordered">
            <caption><div class="add btn-group btn-group-sm"><button type="button" class="btn btn-default">新增</button></div></caption>
            <thead>
                <tr>
                    <th>编号</th>
                    <th>名称</th>
                    <th>描述</th>
                    <th>项目数量</th>
                    <th>模块数量</th>
                    <th>责任人</th>
                    <th>备注</th>
                    <th>创建时间</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody>
                
            </tbody>
        </table>
    </div>
</div>
<script>
    (function page2Init(){
        $.get(interfaceUrl.product,function(data){
            if(data&&data.code == 200){
                for(let i of data.data){
                    let jectnum = i.jectnum;
                    let product = i.product;
                    let explain = i.explain;
                    let modulenum = i.modulenum;
                    let productid = i.productid;
                    let leader = i.leader;
                    let remark = i.remark;
                    let createtime = i.createtime;
                    let tableBtn = '<button class="implement btn btn-link btn-sm">执行</button><button class="modify btn btn-link btn-sm">修改</button><button class="btn btn-link btn-sm">删除</button>'; 
                    let tr = $("<tr><td>"+productid+"</td><td>"+product+"</td><td>"+explain+"</td><td>"+jectnum+"</td><td>"+modulenum+"</td><td>"+leader+"</td><td>"+remark+"</td><td>"+createtime+"</td><td>"+tableBtn+"</td></tr>")
                    
                    $(".page2 .table tbody").append(tr);
                }
                
                
                let table = {
                    "alertTab"  : $('<form class="form-horizontal" role="form"></form>'),
                    "proName"   : $('<div class="form-group"><label class="col-sm-2 control-label" for="name">产品名称</label><div class="col-sm-10"><select class="form-control"><option>胡晋科智障不解释</option></select></div></div>'),
                    "proInfo"   : $('<div class="form-group"><label class="col-sm-2 control-label" for="info">描述</label><div class="col-sm-10"><input class="form-control" id="focusedInput" type="text" placeholder="请输入产品描述"></div></div>'),
                    "proLeader" : $('<div class="form-group"><label class="col-sm-2 control-label" for="leader">责任人</label><div class="col-sm-10"><input class="form-control" id="focusedInput" type="text" placeholder="请输入责任人"></div></div>'),
                    "proText"   : $('<div class="form-group"><label class="col-sm-2 control-label" for="remark">备注</label><div class="col-sm-10"><input class="form-control" id="focusedInput" type="text" placeholder="请输入备注"></div></div>')
                };
                
                
                $(".add").on("click",function(){                        //新增
                    $(".mask").addClass("show").removeClass("hidden");
                    $(".alertBody").html("");
                    
                    $(".alertBody").append(table.alertTab);
                    table.alertTab.append(table.proName,table.proInfo,table.proLeader,table.proText);
                });
                
                $(".content").on("click",".modify",function(){          //修改
                    $(".mask").addClass("show").removeClass("hidden");
                    $(".alertBody").html("");
                    
                    $(".alertBody").append(table.alertTab);
                    table.alertTab.append(table.proName,table.proInfo,table.proLeader,table.proText);
                })
                
                
                $(".mask").on("click",".cancel",function(){
                    $(".mask").addClass("hidden").removeClass("show");
                });
                
                $(".mask").on("click",".sure",function(){
                    
                    
                    
                    $(".mask").addClass("hidden").removeClass("show");
                });
            }
        });
        
        
    })();
</script>